<h1>Gesti√≥n de Estudiantes</h1>

<p-table [value]="students" [paginator]="true" [rows]="5" [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template pTemplate="header">
    <tr>
      <th>Nombre</th>
      <th>Nivel</th>
      <th>Estado</th>
      <th>Detalles</th>
      <th>% Avance</th>
      <th>Asignar Nota</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-student>
    <tr>
      <td>{{ student.name }}</td>
      <td>{{ student.level }}</td>
      <td>{{ student.status }}</td>
      <td>
        <button (click)="viewStudentDetail(student)">
          <i class="pi pi-user">
          </i>
        </button>
      </td>
      <td>{{ student.progress }}%</td>
      <td>
        <button (click)="assignGrade(student)">Asignar Nota</button>
      </td>
    </tr>
  </ng-template>
</p-table>

<!-- Modal para asignar la nota -->
<p-dialog [(visible)]="displayGradeForm" header="Asignar Nota" [modal]="true" [style]="{ width: '400px' }" (onHide)="resetGradeForm()">
  <div class="grade-form-container">
    <label for="grade">Nota:</label>
    <input id="grade" type="number" [(ngModel)]="gradeForm.grade" min="0" max="5" step="0.1" class="form-control" />

    <label for="observations">Observaciones:</label>
    <textarea id="observations" [(ngModel)]="gradeForm.observations" class="form-control"></textarea>

    <p-footer>
      <button type="button" pButton label="Cancelar" icon="pi pi-times" (click)="resetGradeForm()"></button>
      <button type="button" pButton label="Guardar" icon="pi pi-check" (click)="submitGrade()"></button>
    </p-footer>
  </div>
</p-dialog>

