<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<div class="layout-wrapper">
  <!-- Sidebar -->
  <nav class="sidebar" #sidebar [ngClass]="{'hidden': !isSidebarVisible}" aria-label="Main Navigation">
    <img src="https://ucompensar.edu.co/wp-content/uploads/2022/02/logoblanco.png" alt="Logo" class="sidebar-logo" />
    <ul role="navigation">
      <li [class.active]="isActive('/practices')">
        <a (click)="router.navigate(['/practices'])" aria-label="Mis prácticas">Mis prácticas</a>
      </li>
      <li [class.active]="isActive('/manager-practices')">
        <a (click)="router.navigate(['/manager-practices'])" aria-label="Gestiona tu práctica">Gestiona tu práctica</a>
      </li>
      <li [class.active]="isActive('/offers')">
        <a (click)="router.navigate(['/offers'])" aria-label="Ofertas">Ofertas</a>
      </li>
      <li [class.active]="isActive('/postulaciones')">
        <a (click)="router.navigate(['/postulaciones'])" aria-label="Postulaciones">Postulaciones</a>
      </li>
      <li [class.active]="isActive('/encuentros')">
        <a (click)="router.navigate(['/encuentros'])" aria-label="Agendamiento de encuentros">Agendamiento de
          encuentros</a>
      </li>
      <li [class.active]="isActive('/document-download')">
        <a (click)="router.navigate(['/document-download'])" aria-label="Descarga de documentos">Descarga de
          documentos</a>
      </li>
      <li [class.active]="isActive('/student-consultation')">
        <a (click)="router.navigate(['/student-consultation'])" aria-label="Consulta Estudiante">Consulta Estudiante</a>
      </li>
      <li [class.active]="isActive('/teaching-consultation')">
        <a (click)="router.navigate(['/teaching-consultation'])" aria-label="Consulta Docente">Consulta Docente</a>
      </li>

    </ul>
  </nav>

  <header>
    <div>
      <!-- Sidebar Toggle Button -->
      <button class="hamburger-icon" (click)="toggleSidebar()" [ngClass]="{'active': !isSidebarVisible}">
        <i class="pi pi-bars" style="font-size: 1.5rem"></i>
      </button>
    </div>

    <!-- Notification Bell Icon -->
    <div>
      <button class="notification-bell" (click)="toggleNotifications()" aria-label="Show Notifications">
        <i class="pi pi-bell" style="font-size: 1.5rem"></i>
        <span class="notification-count" *ngIf="unreadCount > 0" aria-live="polite">{{ unreadCount }}</span>
      </button>
    </div>
    
    <!-- Notification Dropdown -->
    <div class="notification-dropdown" *ngIf="isNotificationsVisible">
      <ul>
        <li *ngFor="let notification of notifications" (click)="markAsRead(notification)">
          <span [ngClass]="{'unread': !notification.isRead}">{{ notification.summary }}</span>
        </li>
      </ul>
    </div>

    <!-- Profile Dropdown -->
    <div class="profile-menu">
      <button type="button" class="user-button" aria-label="User Profile">
        <i class="pi pi-user" style="font-size: 1.5rem"></i>
      </button>
      <span class="user-name">Andrés Parra</span>
    </div>
  </header>

  <!-- Content -->
  <div class="content">
    <!-- Main Content Area -->
    <main role="main">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>